# Spring Data相关的

## 一、Spring的事务隔离级别

* required：如果当前有事务，则支持当前事务，如果当前没有事务，则创建一个事务。【支持当前事务，如果当前没有事务，就新建一个事务。】
* support：如果当前有事务，则支持当前事务，如果当前没有事务，则以无事务执行。【支持当前事务，如果当前没有事务，就以非事务方式执行。】
* mandatory：支持当前事务，如果没有事务，直接报错。【支持当前事务，如果当前没有事务，就抛出异常。】
* require_new：新建一个事务，如果当前存在事务，这挂起事务。【新建事务，如果当前存在事务，把当前事务挂起。】
* not_support：以非事务方式执行操作，如果当前存在事务，就把当前事务挂起。【以非事务方式执行操作，如果当前存在事务，就把当前事务挂起。】
* never：以非事务方式进行，如果存在事务则抛出异常。【 以非事务方式执行，如果当前存在事务，则抛出异常。】
* nested：如果当前存在事务，则在嵌套事务内执行。如果当前没有事务，则进行与required类似的操作。【如果当前存在事务，则在嵌套事务内执行。如果当前没有事务，则进行与required操作】



PROPAGATION_REQUIRES_NEW：启动一个新的, 不依赖于环境的 "内部" 事务. 这个事务将被完全commited或rolled back而不依赖于外部事务,它拥有自己的隔离范围,自己的锁, 等等.  当内部事务开始执行时, 外部事务将被挂起, 内务事务结束时, 外部事务将继续执行. 
PROPAGATION_NESTED：开始一个 "嵌套的" 事务,它是已经存在事务的一个真正的子事务. 潜套事务开始执行时,它将取得一个savepoint.如果这个嵌套事务失败, 我们将回滚到此savepoint.  潜套事务是外部事务的一部分, 只有外部事务结束后它才会被提交. 



## 二、查看当前事务信息

判断当前是否存在事务：TransactionSynchronizationManager#isActualTransactionActive()；

获取当前事务的名称：TransactionSynchronizationManager#getCurrentTransactionName();